2023-01-11 07:19:08.725 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-01-11 07:19:08.871 +00:00 [DBG] Hosting starting
2023-01-11 07:19:08.910 +00:00 [INF] User profile is available. Using 'C:\Users\Nuno\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-01-11 07:19:08.915 +00:00 [DBG] Reading data from file 'C:\Users\Nuno\AppData\Local\ASP.NET\DataProtection-Keys\key-4efb3c36-dfc6-4e1f-b182-bd4835a272f7.xml'.
2023-01-11 07:19:08.943 +00:00 [DBG] Reading data from file 'C:\Users\Nuno\AppData\Local\ASP.NET\DataProtection-Keys\key-6a9bd5f7-bd22-4e53-bb24-f632adec3175.xml'.
2023-01-11 07:19:08.959 +00:00 [DBG] Reading data from file 'C:\Users\Nuno\AppData\Local\ASP.NET\DataProtection-Keys\key-975c86da-840a-4349-9562-4a0f1b9c2c29.xml'.
2023-01-11 07:19:08.978 +00:00 [DBG] Found key {4efb3c36-dfc6-4e1f-b182-bd4835a272f7}.
2023-01-11 07:19:08.986 +00:00 [DBG] Found key {6a9bd5f7-bd22-4e53-bb24-f632adec3175}.
2023-01-11 07:19:08.987 +00:00 [DBG] Found key {975c86da-840a-4349-9562-4a0f1b9c2c29}.
2023-01-11 07:19:08.995 +00:00 [DBG] Considering key {4efb3c36-dfc6-4e1f-b182-bd4835a272f7} with expiration date 2023-03-02 23:10:38Z as default key.
2023-01-11 07:19:08.998 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-01-11 07:19:09.002 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-01-11 07:19:09.004 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-01-11 07:19:09.008 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-01-11 07:19:09.011 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-01-11 07:19:09.015 +00:00 [DBG] Using key {4efb3c36-dfc6-4e1f-b182-bd4835a272f7} as the default key.
2023-01-11 07:19:09.016 +00:00 [DBG] Key ring with default key {4efb3c36-dfc6-4e1f-b182-bd4835a272f7} was loaded during application startup.
2023-01-11 07:19:09.170 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: AC9835F47453BC88FD356F3E7665968E87A8191B)
2023-01-11 07:19:09.204 +00:00 [INF] Now listening on: https://localhost:7093
2023-01-11 07:19:09.205 +00:00 [INF] Now listening on: http://localhost:5093
2023-01-11 07:19:09.206 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-01-11 07:19:09.206 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-01-11 07:19:09.207 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-01-11 07:19:09.208 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-01-11 07:19:09.208 +00:00 [INF] Hosting environment: Development
2023-01-11 07:19:09.209 +00:00 [INF] Content root path: C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\
2023-01-11 07:19:09.209 +00:00 [DBG] Hosting started
2023-01-11 07:20:21.474 +00:00 [DBG] Connection id "0HMNJKH6CGBQ0" accepted.
2023-01-11 07:22:33.038 +00:00 [DBG] Connection id "0HMNJKH6CGBQ0" received FIN.
2023-01-11 07:22:40.521 +00:00 [DBG] Connection id "0HMNJKH6CGBQ0" started.
2023-01-11 07:22:40.524 +00:00 [DBG] Connection id "0HMNJKH6CGBQ1" accepted.
2023-01-11 07:22:40.525 +00:00 [DBG] Connection id "0HMNJKH6CGBQ1" started.
2023-01-11 07:22:40.612 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Cannot determine the frame size or a corrupted frame was received.
   at System.Net.Security.SslStream.GetFrameSize(ReadOnlySpan`1 buffer)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-01-11 07:22:40.635 +00:00 [DBG] Connection id "0HMNJKH6CGBQ1" received FIN.
2023-01-11 07:22:40.651 +00:00 [DBG] Connection 0HMNJKH6CGBQ1 established using the following protocol: "Tls12"
2023-01-11 07:22:40.661 +00:00 [DBG] Connection id "0HMNJKH6CGBQ0" stopped.
2023-01-11 07:22:40.663 +00:00 [DBG] Connection id "0HMNJKH6CGBQ0" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-01-11 07:22:40.737 +00:00 [DBG] Connection id "0HMNJKH6CGBQ1" is closed. The last processed stream ID was 0.
2023-01-11 07:22:40.739 +00:00 [DBG] Connection id "0HMNJKH6CGBQ1" sending FIN because: "The client closed the connection."
2023-01-11 07:22:40.741 +00:00 [DBG] Connection id "0HMNJKH6CGBQ1" stopped.
2023-01-11 07:22:48.227 +00:00 [DBG] Connection id "0HMNJKH6CGBQ2" accepted.
2023-01-11 07:22:48.228 +00:00 [DBG] Connection id "0HMNJKH6CGBQ2" started.
2023-01-11 07:22:48.235 +00:00 [DBG] Connection 0HMNJKH6CGBQ2 established using the following protocol: "Tls12"
2023-01-11 07:22:48.274 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7093/swagger/index.html - -
2023-01-11 07:22:48.302 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-01-11 07:22:48.383 +00:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-01-11 07:22:48.528 +00:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-01-11 07:22:48.531 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7093/swagger/index.html - - - 200 - text/html;charset=utf-8 259.1804ms
2023-01-11 07:22:48.537 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7093/swagger/swagger-ui-standalone-preset.js - -
2023-01-11 07:22:48.537 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7093/swagger/swagger-ui.css - -
2023-01-11 07:22:48.537 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7093/swagger/swagger-ui-bundle.js - -
2023-01-11 07:22:48.542 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7093/_vs/browserLink - -
2023-01-11 07:22:48.545 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7093/_framework/aspnetcore-browser-refresh.js - -
2023-01-11 07:22:48.553 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7093/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 7.5388ms
2023-01-11 07:22:48.555 +00:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-01-11 07:22:48.558 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7093/swagger/swagger-ui.css - - - 200 143632 text/css 20.8140ms
2023-01-11 07:22:48.558 +00:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-01-11 07:22:48.563 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7093/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 26.5971ms
2023-01-11 07:22:48.569 +00:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-01-11 07:22:48.570 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7093/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 32.8074ms
2023-01-11 07:22:48.594 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7093/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 51.9427ms
2023-01-11 07:22:48.688 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7093/swagger/favicon-16x16.png - -
2023-01-11 07:22:48.689 +00:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2023-01-11 07:22:48.690 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7093/swagger/favicon-16x16.png - - - 200 665 image/png 1.6337ms
2023-01-11 07:22:48.738 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7093/swagger/v1/swagger.json - -
2023-01-11 07:22:48.873 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7093/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 135.7644ms
2023-01-11 07:23:01.131 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7093/api/authentication/authenticate application/json-patch+json 50
2023-01-11 07:23:01.133 +00:00 [DBG] POST requests are not supported
2023-01-11 07:23:01.168 +00:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-01-11 07:23:01.171 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-01-11 07:23:01.182 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-01-11 07:23:01.492 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-01-11 07:23:01.496 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-01-11 07:23:01.517 +00:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2023-01-11 07:23:01.520 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-01-11 07:23:01.521 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-01-11 07:23:01.521 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 07:23:01.523 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-01-11 07:23:01.523 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 07:23:01.525 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-01-11 07:23:01.527 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-01-11 07:23:01.531 +00:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-01-11 07:23:01.533 +00:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-01-11 07:23:01.535 +00:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-01-11 07:23:01.536 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-01-11 07:23:01.546 +00:00 [DBG] Connection id "0HMNJKH6CGBQ2", Request id "0HMNJKH6CGBQ2:0000001F": started reading request body.
2023-01-11 07:23:01.547 +00:00 [DBG] Connection id "0HMNJKH6CGBQ2", Request id "0HMNJKH6CGBQ2:0000001F": done reading request body.
2023-01-11 07:23:01.673 +00:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-01-11 07:23:01.674 +00:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-01-11 07:23:01.675 +00:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-01-11 07:23:01.683 +00:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-01-11 07:23:01.870 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-01-11 07:23:01.874 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-01-11 07:23:01.875 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-01-11 07:23:01.876 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-01-11 07:23:01.885 +00:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 357.1442ms
2023-01-11 07:23:01.887 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-01-11 07:23:01.888 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7093/api/authentication/authenticate application/json-patch+json 50 - 200 - text/plain;+charset=utf-8 756.7339ms
2023-01-11 07:24:00.508 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7093/api/vv1/cities?pageSize=30&pageNumber=1 - -
2023-01-11 07:24:00.509 +00:00 [DBG] The request path  does not match the path filter
2023-01-11 07:24:00.510 +00:00 [DBG] 1 candidate(s) found for the request path '/api/vv1/cities'
2023-01-11 07:24:00.511 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/v{version:Apiversion}/cities' was rejected by complex segment 'v{version:}' for the request path '/api/vv1/cities'
2023-01-11 07:24:00.527 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/v{version:Apiversion}/cities' was rejected by constraint 'version':'Microsoft.AspNetCore.Mvc.Routing.ApiVersionRouteConstraint' with value 'null' for the request path '/api/vv1/cities'
2023-01-11 07:24:00.529 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/v{version:Apiversion}/cities' is not valid for the request path '/api/vv1/cities'
2023-01-11 07:24:00.534 +00:00 [DBG] Request did not match any endpoints
2023-01-11 07:24:00.609 +00:00 [DBG] Successfully validated the token.
2023-01-11 07:24:00.611 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-01-11 07:24:00.612 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7093/api/vv1/cities?pageSize=30&pageNumber=1 - - - 404 0 - 103.6008ms
2023-01-11 07:25:13.956 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7093/api/v1.0/cities?pageSize=30&pageNumber=1 - -
2023-01-11 07:25:13.957 +00:00 [DBG] The request path  does not match the path filter
2023-01-11 07:25:13.957 +00:00 [DBG] 1 candidate(s) found for the request path '/api/v1.0/cities'
2023-01-11 07:25:13.958 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/v{version:Apiversion}/cities' is valid for the request path '/api/v1.0/cities'
2023-01-11 07:25:13.960 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-01-11 07:25:13.962 +00:00 [DBG] Successfully validated the token.
2023-01-11 07:25:13.963 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-01-11 07:25:13.963 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-01-11 07:25:13.974 +00:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-01-11 07:25:13.975 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-01-11 07:25:13.976 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-01-11 07:25:13.977 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 07:25:13.978 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-01-11 07:25:13.979 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 07:25:13.980 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-01-11 07:25:14.182 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-01-11 07:25:14.358 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-01-11 07:25:14.359 +00:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-01-11 07:25:14.360 +00:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-01-11 07:25:14.361 +00:00 [DBG] Could not find a value in the request with name 'name' for binding parameter 'name' of type 'System.String'.
2023-01-11 07:25:14.362 +00:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-01-11 07:25:14.363 +00:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-01-11 07:25:14.364 +00:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-01-11 07:25:14.364 +00:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-01-11 07:25:14.365 +00:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-01-11 07:25:14.366 +00:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-01-11 07:25:14.368 +00:00 [DBG] Could not find a value in the request with name 'searchQuery' for binding parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:25:14.368 +00:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:25:14.369 +00:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:25:14.370 +00:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-01-11 07:25:14.370 +00:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:25:14.371 +00:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-01-11 07:25:14.372 +00:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-01-11 07:25:14.374 +00:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-01-11 07:25:14.375 +00:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-01-11 07:25:14.375 +00:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-01-11 07:25:14.376 +00:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-01-11 07:25:14.377 +00:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-01-11 07:25:14.378 +00:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-01-11 07:25:14.379 +00:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 07:25:14.379 +00:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 07:25:14.380 +00:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-01-11 07:25:14.381 +00:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 07:25:15.095 +00:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-01-11 07:25:15.131 +00:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2023-01-11 07:25:15.325 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-01-11 07:25:15.368 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-01-11 07:25:15.566 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (199ms).
2023-01-11 07:25:15.577 +00:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:25:15.592 +00:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:25:15.602 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-01-11 07:25:15.621 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-01-11 07:25:15.632 +00:00 [DBG] A data reader was disposed.
2023-01-11 07:25:15.638 +00:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:25:15.644 +00:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:25:15.654 +00:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2023-01-11 07:25:15.710 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-01-11 07:25:15.720 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-01-11 07:25:15.721 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-01-11 07:25:15.724 +00:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:25:15.725 +00:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:25:15.730 +00:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-01-11 07:25:15.736 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-01-11 07:25:15.751 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-01-11 07:25:15.769 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-01-11 07:25:15.770 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-01-11 07:25:15.771 +00:00 [DBG] A data reader was disposed.
2023-01-11 07:25:15.772 +00:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:25:15.773 +00:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:25:15.788 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-01-11 07:25:15.790 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-01-11 07:25:15.790 +00:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-01-11 07:25:15.791 +00:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2023-01-11 07:25:15.792 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1812.0773ms
2023-01-11 07:25:15.793 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-01-11 07:25:15.797 +00:00 [DBG] 'CityInfoContext' disposed.
2023-01-11 07:25:15.800 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7093/api/v1.0/cities?pageSize=30&pageNumber=1 - - - 406 0 - 1843.7900ms
2023-01-11 07:26:53.378 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7093/api/v2.0/cities?pageSize=30&pageNumber=1 - -
2023-01-11 07:26:53.379 +00:00 [DBG] The request path  does not match the path filter
2023-01-11 07:26:53.380 +00:00 [DBG] 1 candidate(s) found for the request path '/api/v2.0/cities'
2023-01-11 07:26:53.380 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/v{version:Apiversion}/cities' is valid for the request path '/api/v2.0/cities'
2023-01-11 07:26:53.381 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-01-11 07:26:53.382 +00:00 [DBG] Successfully validated the token.
2023-01-11 07:26:53.382 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-01-11 07:26:53.383 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-01-11 07:26:53.384 +00:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-01-11 07:26:53.385 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-01-11 07:26:53.386 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-01-11 07:26:53.387 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 07:26:53.389 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-01-11 07:26:53.389 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 07:26:53.390 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-01-11 07:26:53.407 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-01-11 07:26:53.412 +00:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-01-11 07:26:53.413 +00:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-01-11 07:26:53.413 +00:00 [DBG] Could not find a value in the request with name 'name' for binding parameter 'name' of type 'System.String'.
2023-01-11 07:26:53.414 +00:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-01-11 07:26:53.415 +00:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-01-11 07:26:53.416 +00:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-01-11 07:26:53.416 +00:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-01-11 07:26:53.417 +00:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-01-11 07:26:53.418 +00:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-01-11 07:26:53.419 +00:00 [DBG] Could not find a value in the request with name 'searchQuery' for binding parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:26:53.420 +00:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:26:53.420 +00:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:26:53.421 +00:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-01-11 07:26:53.422 +00:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:26:53.423 +00:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-01-11 07:26:53.423 +00:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-01-11 07:26:53.424 +00:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-01-11 07:26:53.425 +00:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-01-11 07:26:53.426 +00:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-01-11 07:26:53.427 +00:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-01-11 07:26:53.427 +00:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-01-11 07:26:53.428 +00:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-01-11 07:26:53.429 +00:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 07:26:53.430 +00:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 07:26:53.430 +00:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-01-11 07:26:53.431 +00:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 07:26:53.436 +00:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-01-11 07:26:53.439 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-01-11 07:26:53.439 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-01-11 07:26:53.440 +00:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:26:53.440 +00:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:26:53.441 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-01-11 07:26:53.443 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-01-11 07:26:53.444 +00:00 [DBG] A data reader was disposed.
2023-01-11 07:26:53.444 +00:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:26:53.445 +00:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:26:53.447 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-01-11 07:26:53.448 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-01-11 07:26:53.449 +00:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:26:53.449 +00:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:26:53.450 +00:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-01-11 07:26:53.452 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-01-11 07:26:53.453 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-01-11 07:26:53.454 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-01-11 07:26:53.456 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-01-11 07:26:53.457 +00:00 [DBG] A data reader was disposed.
2023-01-11 07:26:53.458 +00:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:26:53.459 +00:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:26:53.460 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-01-11 07:26:53.461 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-01-11 07:26:53.462 +00:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-01-11 07:26:53.463 +00:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2023-01-11 07:26:53.463 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 73.0475ms
2023-01-11 07:26:53.464 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-01-11 07:26:53.465 +00:00 [DBG] 'CityInfoContext' disposed.
2023-01-11 07:26:53.465 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7093/api/v2.0/cities?pageSize=30&pageNumber=1 - - - 406 0 - 89.2894ms
2023-01-11 07:27:15.628 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7093/api/v2/cities?pageSize=30&pageNumber=1 - -
2023-01-11 07:27:15.629 +00:00 [DBG] The request path  does not match the path filter
2023-01-11 07:27:15.629 +00:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities'
2023-01-11 07:27:15.630 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/v{version:Apiversion}/cities' is valid for the request path '/api/v2/cities'
2023-01-11 07:27:15.632 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-01-11 07:27:15.632 +00:00 [DBG] Successfully validated the token.
2023-01-11 07:27:15.633 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-01-11 07:27:15.634 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-01-11 07:27:15.634 +00:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-01-11 07:27:15.636 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-01-11 07:27:15.637 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-01-11 07:27:15.638 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 07:27:15.640 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-01-11 07:27:15.641 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 07:27:15.642 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-01-11 07:27:15.644 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-01-11 07:27:15.645 +00:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-01-11 07:27:15.646 +00:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-01-11 07:27:15.647 +00:00 [DBG] Could not find a value in the request with name 'name' for binding parameter 'name' of type 'System.String'.
2023-01-11 07:27:15.648 +00:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-01-11 07:27:15.649 +00:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-01-11 07:27:15.649 +00:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-01-11 07:27:15.650 +00:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-01-11 07:27:15.651 +00:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-01-11 07:27:15.652 +00:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-01-11 07:27:15.653 +00:00 [DBG] Could not find a value in the request with name 'searchQuery' for binding parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:27:15.654 +00:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:27:15.654 +00:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:27:15.655 +00:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-01-11 07:27:15.657 +00:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:27:15.658 +00:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-01-11 07:27:15.658 +00:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-01-11 07:27:15.659 +00:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-01-11 07:27:15.660 +00:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-01-11 07:27:15.660 +00:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-01-11 07:27:15.661 +00:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-01-11 07:27:15.662 +00:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-01-11 07:27:15.663 +00:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-01-11 07:27:15.664 +00:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 07:27:15.665 +00:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 07:27:15.665 +00:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-01-11 07:27:15.666 +00:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 07:27:15.698 +00:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-01-11 07:27:15.700 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-01-11 07:27:15.700 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-01-11 07:27:15.701 +00:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:27:15.701 +00:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:27:15.703 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-01-11 07:27:15.704 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-01-11 07:27:15.705 +00:00 [DBG] A data reader was disposed.
2023-01-11 07:27:15.706 +00:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:27:15.707 +00:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:27:15.708 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-01-11 07:27:15.708 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-01-11 07:27:15.709 +00:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:27:15.709 +00:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:27:15.710 +00:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-01-11 07:27:15.712 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-01-11 07:27:15.713 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-01-11 07:27:15.714 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-01-11 07:27:15.715 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-01-11 07:27:15.716 +00:00 [DBG] A data reader was disposed.
2023-01-11 07:27:15.717 +00:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:27:15.717 +00:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:27:15.718 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-01-11 07:27:15.720 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-01-11 07:27:15.721 +00:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-01-11 07:27:15.722 +00:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2023-01-11 07:27:15.723 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 81.5421ms
2023-01-11 07:27:15.724 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-01-11 07:27:15.725 +00:00 [DBG] 'CityInfoContext' disposed.
2023-01-11 07:27:15.726 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7093/api/v2/cities?pageSize=30&pageNumber=1 - - - 406 0 - 97.5552ms
2023-01-11 07:27:51.306 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7093/api/v2/cities/1?includePointsOfInterest=false - -
2023-01-11 07:27:51.307 +00:00 [DBG] The request path  does not match the path filter
2023-01-11 07:27:51.308 +00:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1'
2023-01-11 07:27:51.309 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/v{version:Apiversion}/cities/{id}' is valid for the request path '/api/v2/cities/1'
2023-01-11 07:27:51.310 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-01-11 07:27:51.310 +00:00 [DBG] Successfully validated the token.
2023-01-11 07:27:51.311 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-01-11 07:27:51.312 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-01-11 07:27:51.314 +00:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-01-11 07:27:51.316 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-01-11 07:27:51.316 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-01-11 07:27:51.317 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 07:27:51.318 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-01-11 07:27:51.319 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 07:27:51.320 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-01-11 07:27:51.321 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-01-11 07:27:51.322 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-01-11 07:27:51.323 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-01-11 07:27:51.324 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-01-11 07:27:51.325 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-01-11 07:27:51.326 +00:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-01-11 07:27:51.327 +00:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-01-11 07:27:51.327 +00:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-01-11 07:27:51.328 +00:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-01-11 07:27:51.329 +00:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-01-11 07:27:51.330 +00:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-01-11 07:27:51.330 +00:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-01-11 07:27:51.331 +00:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-01-11 07:27:51.346 +00:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-01-11 07:27:51.350 +00:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-01-11 07:27:51.374 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-01-11 07:27:51.385 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-01-11 07:27:51.386 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-01-11 07:27:51.386 +00:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:27:51.387 +00:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:27:51.388 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-01-11 07:27:51.390 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-01-11 07:27:51.393 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-01-11 07:27:51.393 +00:00 [DBG] A data reader was disposed.
2023-01-11 07:27:51.394 +00:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:27:51.395 +00:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:27:51.398 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-01-11 07:27:51.400 +00:00 [DBG] No information found on request to perform content negotiation.
2023-01-11 07:27:51.401 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-01-11 07:27:51.401 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-01-11 07:27:51.402 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-01-11 07:27:51.402 +00:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointsOfInterestDto'.
2023-01-11 07:27:51.439 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 119.0778ms
2023-01-11 07:27:51.441 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-01-11 07:27:51.442 +00:00 [DBG] 'CityInfoContext' disposed.
2023-01-11 07:27:51.443 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7093/api/v2/cities/1?includePointsOfInterest=false - - - 200 75 application/json;+charset=utf-8 136.9068ms
2023-01-11 07:28:10.309 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7093/api/v2/cities/1?includePointsOfInterest=true - -
2023-01-11 07:28:10.310 +00:00 [DBG] The request path  does not match the path filter
2023-01-11 07:28:10.311 +00:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1'
2023-01-11 07:28:10.311 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/v{version:Apiversion}/cities/{id}' is valid for the request path '/api/v2/cities/1'
2023-01-11 07:28:10.312 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-01-11 07:28:10.313 +00:00 [DBG] Successfully validated the token.
2023-01-11 07:28:10.313 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-01-11 07:28:10.314 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-01-11 07:28:10.314 +00:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-01-11 07:28:10.316 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-01-11 07:28:10.317 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-01-11 07:28:10.317 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 07:28:10.319 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-01-11 07:28:10.319 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 07:28:10.321 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-01-11 07:28:10.321 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-01-11 07:28:10.322 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-01-11 07:28:10.323 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-01-11 07:28:10.324 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-01-11 07:28:10.325 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-01-11 07:28:10.326 +00:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-01-11 07:28:10.327 +00:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-01-11 07:28:10.328 +00:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-01-11 07:28:10.328 +00:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-01-11 07:28:10.329 +00:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-01-11 07:28:10.330 +00:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-01-11 07:28:10.331 +00:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-01-11 07:28:10.331 +00:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-01-11 07:28:10.332 +00:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-01-11 07:28:10.349 +00:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .Include(c => c.PointsOfInterest)
    .FirstOrDefault()'
2023-01-11 07:28:10.365 +00:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2023-01-11 07:28:10.450 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointsOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-01-11 07:28:10.454 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-01-11 07:28:10.454 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-01-11 07:28:10.455 +00:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:28:10.456 +00:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:28:10.457 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-01-11 07:28:10.459 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointsOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-01-11 07:28:10.461 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-01-11 07:28:10.469 +00:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-01-11 07:28:10.483 +00:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-01-11 07:28:10.485 +00:00 [DBG] A data reader was disposed.
2023-01-11 07:28:10.485 +00:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:28:10.486 +00:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:28:10.491 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-01-11 07:28:10.493 +00:00 [DBG] No information found on request to perform content negotiation.
2023-01-11 07:28:10.493 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-01-11 07:28:10.494 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-01-11 07:28:10.495 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-01-11 07:28:10.496 +00:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2023-01-11 07:28:10.506 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 185.3463ms
2023-01-11 07:28:10.507 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-01-11 07:28:10.508 +00:00 [DBG] 'CityInfoContext' disposed.
2023-01-11 07:28:10.509 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7093/api/v2/cities/1?includePointsOfInterest=true - - - 200 331 application/json;+charset=utf-8 199.9128ms
2023-01-11 07:29:10.941 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7093/api/v2/cities?pageSize=1&pageNumber=1 - -
2023-01-11 07:29:10.941 +00:00 [DBG] The request path  does not match the path filter
2023-01-11 07:29:10.942 +00:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities'
2023-01-11 07:29:10.943 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/v{version:Apiversion}/cities' is valid for the request path '/api/v2/cities'
2023-01-11 07:29:10.944 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-01-11 07:29:10.945 +00:00 [DBG] Successfully validated the token.
2023-01-11 07:29:10.945 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-01-11 07:29:10.946 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-01-11 07:29:10.946 +00:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-01-11 07:29:10.948 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-01-11 07:29:10.949 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-01-11 07:29:10.949 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 07:29:10.951 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-01-11 07:29:10.951 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 07:29:10.952 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-01-11 07:29:10.953 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-01-11 07:29:10.954 +00:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-01-11 07:29:10.954 +00:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-01-11 07:29:10.955 +00:00 [DBG] Could not find a value in the request with name 'name' for binding parameter 'name' of type 'System.String'.
2023-01-11 07:29:10.956 +00:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-01-11 07:29:10.957 +00:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-01-11 07:29:10.958 +00:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-01-11 07:29:10.958 +00:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-01-11 07:29:10.959 +00:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-01-11 07:29:10.960 +00:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-01-11 07:29:10.961 +00:00 [DBG] Could not find a value in the request with name 'searchQuery' for binding parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:29:10.962 +00:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:29:10.963 +00:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:29:10.964 +00:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-01-11 07:29:10.964 +00:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:29:10.965 +00:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-01-11 07:29:10.966 +00:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-01-11 07:29:10.967 +00:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-01-11 07:29:10.967 +00:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-01-11 07:29:10.968 +00:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-01-11 07:29:10.969 +00:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-01-11 07:29:10.970 +00:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-01-11 07:29:10.970 +00:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-01-11 07:29:10.971 +00:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 07:29:10.972 +00:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 07:29:10.973 +00:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-01-11 07:29:10.974 +00:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 07:29:10.975 +00:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-01-11 07:29:10.976 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-01-11 07:29:10.976 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-01-11 07:29:10.977 +00:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:29:10.978 +00:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:29:10.979 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-01-11 07:29:10.980 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-01-11 07:29:10.981 +00:00 [DBG] A data reader was disposed.
2023-01-11 07:29:10.982 +00:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:29:10.983 +00:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:29:10.984 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-01-11 07:29:10.984 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-01-11 07:29:10.985 +00:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:29:10.985 +00:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:29:10.986 +00:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-01-11 07:29:10.988 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-01-11 07:29:10.989 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-01-11 07:29:10.990 +00:00 [DBG] A data reader was disposed.
2023-01-11 07:29:10.991 +00:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:29:10.992 +00:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:29:10.993 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-01-11 07:29:10.995 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-01-11 07:29:10.996 +00:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-01-11 07:29:10.997 +00:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2023-01-11 07:29:10.997 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 45.024ms
2023-01-11 07:29:10.998 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-01-11 07:29:10.999 +00:00 [DBG] 'CityInfoContext' disposed.
2023-01-11 07:29:11.000 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7093/api/v2/cities?pageSize=1&pageNumber=1 - - - 406 0 - 58.7569ms
2023-01-11 07:30:02.199 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7093/api/v2/cities?pageSize=1&pageNumber=1 - -
2023-01-11 07:30:02.200 +00:00 [DBG] The request path  does not match the path filter
2023-01-11 07:30:02.201 +00:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities'
2023-01-11 07:30:02.201 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/v{version:Apiversion}/cities' is valid for the request path '/api/v2/cities'
2023-01-11 07:30:02.202 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-01-11 07:30:02.203 +00:00 [DBG] Successfully validated the token.
2023-01-11 07:30:02.203 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-01-11 07:30:02.204 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-01-11 07:30:02.204 +00:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-01-11 07:30:02.206 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-01-11 07:30:02.207 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-01-11 07:30:02.207 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 07:30:02.209 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-01-11 07:30:02.209 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 07:30:02.210 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-01-11 07:30:02.211 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-01-11 07:30:02.212 +00:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-01-11 07:30:02.213 +00:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-01-11 07:30:02.214 +00:00 [DBG] Could not find a value in the request with name 'name' for binding parameter 'name' of type 'System.String'.
2023-01-11 07:30:02.215 +00:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-01-11 07:30:02.216 +00:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-01-11 07:30:02.217 +00:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-01-11 07:30:02.218 +00:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-01-11 07:30:02.218 +00:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-01-11 07:30:02.219 +00:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-01-11 07:30:02.220 +00:00 [DBG] Could not find a value in the request with name 'searchQuery' for binding parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:30:02.221 +00:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:30:02.221 +00:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:30:02.222 +00:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-01-11 07:30:02.223 +00:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:30:02.223 +00:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-01-11 07:30:02.224 +00:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-01-11 07:30:02.225 +00:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-01-11 07:30:02.226 +00:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-01-11 07:30:02.226 +00:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-01-11 07:30:02.227 +00:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-01-11 07:30:02.228 +00:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-01-11 07:30:02.228 +00:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-01-11 07:30:02.230 +00:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 07:30:02.231 +00:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 07:30:02.232 +00:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-01-11 07:30:02.233 +00:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 07:30:02.234 +00:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-01-11 07:30:02.235 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-01-11 07:30:02.235 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-01-11 07:30:02.236 +00:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:30:02.236 +00:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:30:02.237 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-01-11 07:30:02.238 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-01-11 07:30:02.240 +00:00 [DBG] A data reader was disposed.
2023-01-11 07:30:02.240 +00:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:30:02.241 +00:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:30:02.242 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-01-11 07:30:02.242 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-01-11 07:30:02.243 +00:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:30:02.243 +00:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:30:02.244 +00:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-01-11 07:30:02.247 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-01-11 07:30:02.249 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-01-11 07:30:02.250 +00:00 [DBG] A data reader was disposed.
2023-01-11 07:30:02.250 +00:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:30:02.251 +00:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:31:12.194 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-01-11 07:31:12.243 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7093/swagger/index.html - -
2023-01-11 07:31:12.243 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-01-11 07:31:12.244 +00:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-01-11 07:31:12.244 +00:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-01-11 07:31:12.244 +00:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2023-01-11 07:31:12.246 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 70035.3068ms
2023-01-11 07:31:12.249 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-01-11 07:31:12.249 +00:00 [DBG] 'CityInfoContext' disposed.
2023-01-11 07:31:12.253 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7093/api/v2/cities?pageSize=1&pageNumber=1 - - - 0 - - 70053.4175ms
2023-01-11 07:31:12.253 +00:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-01-11 07:31:12.258 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7093/swagger/index.html - - - 200 - text/html;charset=utf-8 15.6773ms
2023-01-11 07:31:12.272 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7093/_vs/browserLink - -
2023-01-11 07:31:12.272 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7093/_framework/aspnetcore-browser-refresh.js - -
2023-01-11 07:31:12.277 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7093/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 4.7546ms
2023-01-11 07:31:12.280 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7093/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 7.5464ms
2023-01-11 07:31:12.589 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7093/swagger/favicon-16x16.png - -
2023-01-11 07:31:12.622 +00:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2023-01-11 07:31:12.627 +00:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2023-01-11 07:31:12.627 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7093/swagger/favicon-16x16.png - - - 0 665 image/png 37.9187ms
2023-01-11 07:31:12.656 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7093/swagger/v1/swagger.json - -
2023-01-11 07:31:12.660 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7093/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 3.6672ms
2023-01-11 07:31:32.729 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7093/api/authentication/authenticate application/json-patch+json 50
2023-01-11 07:31:32.730 +00:00 [DBG] POST requests are not supported
2023-01-11 07:31:32.731 +00:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-01-11 07:31:32.732 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-01-11 07:31:32.733 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-01-11 07:31:32.734 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-01-11 07:31:32.734 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-01-11 07:31:32.735 +00:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2023-01-11 07:31:32.738 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-01-11 07:31:32.739 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-01-11 07:31:32.740 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 07:31:32.741 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-01-11 07:31:32.744 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 07:31:32.746 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-01-11 07:31:32.747 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-01-11 07:31:32.748 +00:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-01-11 07:31:32.749 +00:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-01-11 07:31:32.751 +00:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-01-11 07:31:32.752 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-01-11 07:31:32.753 +00:00 [DBG] Connection id "0HMNJKH6CGBQ2", Request id "0HMNJKH6CGBQ2:0000003B": started reading request body.
2023-01-11 07:31:32.755 +00:00 [DBG] Connection id "0HMNJKH6CGBQ2", Request id "0HMNJKH6CGBQ2:0000003B": done reading request body.
2023-01-11 07:31:32.756 +00:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-01-11 07:31:32.757 +00:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-01-11 07:31:32.760 +00:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-01-11 07:31:32.761 +00:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-01-11 07:31:32.763 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-01-11 07:31:32.765 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-01-11 07:31:32.766 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-01-11 07:31:32.767 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-01-11 07:31:32.768 +00:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 22.1109ms
2023-01-11 07:31:32.769 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-01-11 07:31:32.770 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7093/api/authentication/authenticate application/json-patch+json 50 - 200 - text/plain;+charset=utf-8 41.0280ms
2023-01-11 07:32:26.896 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7093/api/v1/cities?pageSize=1&pageNumber=1 - -
2023-01-11 07:32:26.899 +00:00 [DBG] The request path  does not match the path filter
2023-01-11 07:32:26.900 +00:00 [DBG] 1 candidate(s) found for the request path '/api/v1/cities'
2023-01-11 07:32:26.901 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/v{version:Apiversion}/cities' is valid for the request path '/api/v1/cities'
2023-01-11 07:32:26.902 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-01-11 07:32:26.903 +00:00 [DBG] Successfully validated the token.
2023-01-11 07:32:26.904 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-01-11 07:32:26.904 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-01-11 07:32:26.905 +00:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-01-11 07:32:26.908 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-01-11 07:32:26.909 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-01-11 07:32:26.910 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 07:32:26.912 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-01-11 07:32:26.913 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 07:32:26.917 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-01-11 07:32:26.918 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-01-11 07:32:26.918 +00:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-01-11 07:32:26.919 +00:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-01-11 07:32:26.920 +00:00 [DBG] Could not find a value in the request with name 'name' for binding parameter 'name' of type 'System.String'.
2023-01-11 07:32:26.922 +00:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-01-11 07:32:26.922 +00:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-01-11 07:32:26.923 +00:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-01-11 07:32:26.925 +00:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-01-11 07:32:26.926 +00:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-01-11 07:32:26.927 +00:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-01-11 07:32:26.928 +00:00 [DBG] Could not find a value in the request with name 'searchQuery' for binding parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:32:26.931 +00:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:32:26.932 +00:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:32:26.933 +00:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-01-11 07:32:26.934 +00:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:32:26.935 +00:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-01-11 07:32:26.936 +00:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-01-11 07:32:26.937 +00:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-01-11 07:32:26.938 +00:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-01-11 07:32:26.939 +00:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-01-11 07:32:26.940 +00:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-01-11 07:32:26.941 +00:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-01-11 07:32:26.942 +00:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-01-11 07:32:26.943 +00:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 07:32:26.944 +00:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 07:32:26.947 +00:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-01-11 07:32:26.950 +00:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 07:32:26.952 +00:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-01-11 07:32:26.954 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-01-11 07:32:26.954 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-01-11 07:32:26.955 +00:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:32:26.956 +00:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:32:26.957 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-01-11 07:32:26.960 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-01-11 07:32:26.963 +00:00 [DBG] A data reader was disposed.
2023-01-11 07:32:26.963 +00:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:32:26.965 +00:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:32:26.966 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-01-11 07:32:26.966 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-01-11 07:32:26.967 +00:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:32:26.968 +00:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:32:26.970 +00:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-01-11 07:32:26.972 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-01-11 07:32:26.975 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-01-11 07:32:26.977 +00:00 [DBG] A data reader was disposed.
2023-01-11 07:32:26.977 +00:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:32:26.981 +00:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:32:26.982 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-01-11 07:32:26.985 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-01-11 07:32:26.986 +00:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-01-11 07:32:26.987 +00:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2023-01-11 07:32:26.988 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 71.2893ms
2023-01-11 07:32:26.989 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-01-11 07:32:26.990 +00:00 [DBG] 'CityInfoContext' disposed.
2023-01-11 07:32:26.991 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7093/api/v1/cities?pageSize=1&pageNumber=1 - - - 406 0 - 94.4981ms
2023-01-11 07:32:40.439 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7093/api/v1/cities/1?includePointsOfInterest=false - -
2023-01-11 07:32:40.440 +00:00 [DBG] The request path  does not match the path filter
2023-01-11 07:32:40.441 +00:00 [DBG] 1 candidate(s) found for the request path '/api/v1/cities/1'
2023-01-11 07:32:40.442 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/v{version:Apiversion}/cities/{id}' is valid for the request path '/api/v1/cities/1'
2023-01-11 07:32:40.443 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-01-11 07:32:40.444 +00:00 [DBG] Successfully validated the token.
2023-01-11 07:32:40.445 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-01-11 07:32:40.445 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-01-11 07:32:40.446 +00:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-01-11 07:32:40.448 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-01-11 07:32:40.449 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-01-11 07:32:40.450 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 07:32:40.451 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-01-11 07:32:40.452 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 07:32:40.454 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-01-11 07:32:40.455 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-01-11 07:32:40.456 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-01-11 07:32:40.456 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-01-11 07:32:40.457 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-01-11 07:32:40.459 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-01-11 07:32:40.460 +00:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-01-11 07:32:40.461 +00:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-01-11 07:32:40.461 +00:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-01-11 07:32:40.462 +00:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-01-11 07:32:40.467 +00:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-01-11 07:32:40.467 +00:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-01-11 07:32:40.468 +00:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-01-11 07:32:40.469 +00:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-01-11 07:32:40.470 +00:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-01-11 07:32:40.472 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-01-11 07:32:40.473 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-01-11 07:32:40.473 +00:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:32:40.474 +00:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:32:40.476 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-01-11 07:32:40.478 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-01-11 07:32:40.482 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-01-11 07:32:40.484 +00:00 [DBG] A data reader was disposed.
2023-01-11 07:32:40.484 +00:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:32:40.486 +00:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:32:40.487 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-01-11 07:32:40.490 +00:00 [DBG] No information found on request to perform content negotiation.
2023-01-11 07:32:40.492 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-01-11 07:32:40.493 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-01-11 07:32:40.494 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-01-11 07:32:40.495 +00:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointsOfInterestDto'.
2023-01-11 07:32:40.497 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 43.5609ms
2023-01-11 07:32:40.498 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-01-11 07:32:40.499 +00:00 [DBG] 'CityInfoContext' disposed.
2023-01-11 07:32:40.500 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7093/api/v1/cities/1?includePointsOfInterest=false - - - 200 75 application/json;+charset=utf-8 60.7710ms
2023-01-11 07:33:49.741 +00:00 [DBG] Connection id "0HMNJKH6CGBQ3" accepted.
2023-01-11 07:33:49.744 +00:00 [DBG] Connection id "0HMNJKH6CGBQ3" started.
2023-01-11 07:33:49.744 +00:00 [DBG] Connection id "0HMNJKH6CGBQ3" received FIN.
2023-01-11 07:33:49.746 +00:00 [DBG] Connection id "0HMNJKH6CGBQ4" accepted.
2023-01-11 07:33:49.754 +00:00 [DBG] Connection id "0HMNJKH6CGBQ4" started.
2023-01-11 07:33:49.797 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-01-11 07:33:49.798 +00:00 [DBG] Connection 0HMNJKH6CGBQ4 established using the following protocol: "Tls12"
2023-01-11 07:33:49.799 +00:00 [DBG] Connection id "0HMNJKH6CGBQ3" stopped.
2023-01-11 07:33:49.800 +00:00 [DBG] Connection id "0HMNJKH6CGBQ3" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-01-11 07:33:49.808 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7093/api/cities/ - -
2023-01-11 07:33:49.809 +00:00 [DBG] The request path  does not match the path filter
2023-01-11 07:33:49.810 +00:00 [DBG] No candidates found for the request path '/api/cities/'
2023-01-11 07:33:49.810 +00:00 [DBG] Request did not match any endpoints
2023-01-11 07:33:49.857 +00:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '04/06/2022 12:51:40', Current time: '11/01/2023 07:33:49'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-01-11 07:33:49.863 +00:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '04/06/2022 12:51:40', Current time: '11/01/2023 07:33:49'.
2023-01-11 07:33:49.864 +00:00 [DBG] Connection id "0HMNJKH6CGBQ4" completed keep alive response.
2023-01-11 07:33:49.865 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7093/api/cities/ - - - 404 0 - 56.7605ms
2023-01-11 07:34:15.293 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7093/api/cities/ - -
2023-01-11 07:34:15.294 +00:00 [DBG] The request path  does not match the path filter
2023-01-11 07:34:15.295 +00:00 [DBG] No candidates found for the request path '/api/cities/'
2023-01-11 07:34:15.296 +00:00 [DBG] Request did not match any endpoints
2023-01-11 07:34:15.297 +00:00 [DBG] Successfully validated the token.
2023-01-11 07:34:15.297 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-01-11 07:34:15.306 +00:00 [DBG] Connection id "0HMNJKH6CGBQ4" completed keep alive response.
2023-01-11 07:34:15.306 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7093/api/cities/ - - - 404 0 - 14.7550ms
2023-01-11 07:34:42.824 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7093/api/cities/ - -
2023-01-11 07:34:42.825 +00:00 [DBG] The request path  does not match the path filter
2023-01-11 07:34:42.826 +00:00 [DBG] No candidates found for the request path '/api/cities/'
2023-01-11 07:34:42.827 +00:00 [DBG] Request did not match any endpoints
2023-01-11 07:34:42.828 +00:00 [DBG] Successfully validated the token.
2023-01-11 07:34:42.829 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-01-11 07:34:42.830 +00:00 [DBG] Connection id "0HMNJKH6CGBQ4" completed keep alive response.
2023-01-11 07:34:42.831 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7093/api/cities/ - - - 404 0 - 6.4412ms
2023-01-11 07:34:43.842 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7093/api/cities/ - -
2023-01-11 07:34:43.843 +00:00 [DBG] The request path  does not match the path filter
2023-01-11 07:34:43.844 +00:00 [DBG] No candidates found for the request path '/api/cities/'
2023-01-11 07:34:43.844 +00:00 [DBG] Request did not match any endpoints
2023-01-11 07:34:43.845 +00:00 [DBG] Successfully validated the token.
2023-01-11 07:34:43.846 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-01-11 07:34:43.847 +00:00 [DBG] Connection id "0HMNJKH6CGBQ4" completed keep alive response.
2023-01-11 07:34:43.858 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7093/api/cities/ - - - 404 0 - 15.3778ms
2023-01-11 07:34:44.120 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7093/api/cities/ - -
2023-01-11 07:34:44.120 +00:00 [DBG] The request path  does not match the path filter
2023-01-11 07:34:44.121 +00:00 [DBG] No candidates found for the request path '/api/cities/'
2023-01-11 07:34:44.122 +00:00 [DBG] Request did not match any endpoints
2023-01-11 07:34:44.123 +00:00 [DBG] Successfully validated the token.
2023-01-11 07:34:44.124 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-01-11 07:34:44.125 +00:00 [DBG] Connection id "0HMNJKH6CGBQ4" completed keep alive response.
2023-01-11 07:34:44.126 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7093/api/cities/ - - - 404 0 - 5.8376ms
2023-01-11 07:35:31.251 +00:00 [DBG] Connection id "0HMNJKH6CGBQ2" received FIN.
2023-01-11 07:35:31.258 +00:00 [DBG] Connection id "0HMNJKH6CGBQ2" is closing.
2023-01-11 07:35:31.259 +00:00 [DBG] Connection id "0HMNJKH6CGBQ2" is closed. The last processed stream ID was 63.
2023-01-11 07:35:31.260 +00:00 [DBG] Connection id "0HMNJKH6CGBQ2" sending FIN because: "The client closed the connection."
2023-01-11 07:35:31.267 +00:00 [DBG] Connection id "0HMNJKH6CGBQ2" stopped.
2023-01-11 07:35:33.413 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7093/api/cities/1 - -
2023-01-11 07:35:33.414 +00:00 [DBG] The request path  does not match the path filter
2023-01-11 07:35:33.415 +00:00 [DBG] No candidates found for the request path '/api/cities/1'
2023-01-11 07:35:33.415 +00:00 [DBG] Request did not match any endpoints
2023-01-11 07:35:33.415 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-01-11 07:35:33.416 +00:00 [DBG] Connection id "0HMNJKH6CGBQ4" completed keep alive response.
2023-01-11 07:35:33.417 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7093/api/cities/1 - - - 404 0 - 3.5499ms
2023-01-11 07:36:09.170 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7093/api/cities/ - -
2023-01-11 07:36:09.172 +00:00 [DBG] The request path  does not match the path filter
2023-01-11 07:36:09.172 +00:00 [DBG] No candidates found for the request path '/api/cities/'
2023-01-11 07:36:09.173 +00:00 [DBG] Request did not match any endpoints
2023-01-11 07:36:09.174 +00:00 [DBG] Successfully validated the token.
2023-01-11 07:36:09.174 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-01-11 07:36:09.175 +00:00 [DBG] Connection id "0HMNJKH6CGBQ4" completed keep alive response.
2023-01-11 07:36:09.176 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7093/api/cities/ - - - 404 0 - 7.4807ms
2023-01-11 07:36:52.877 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7093/api/cities/ - -
2023-01-11 07:36:52.880 +00:00 [DBG] The request path  does not match the path filter
2023-01-11 07:36:52.881 +00:00 [DBG] No candidates found for the request path '/api/cities/'
2023-01-11 07:36:52.881 +00:00 [DBG] Request did not match any endpoints
2023-01-11 07:36:52.882 +00:00 [DBG] Successfully validated the token.
2023-01-11 07:36:52.882 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-01-11 07:36:52.883 +00:00 [DBG] Connection id "0HMNJKH6CGBQ4" completed keep alive response.
2023-01-11 07:36:52.884 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7093/api/cities/ - - - 404 0 - 6.2234ms
2023-01-11 07:40:48.083 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7093/api/cities - -
2023-01-11 07:40:48.086 +00:00 [DBG] The request path  does not match the path filter
2023-01-11 07:40:48.086 +00:00 [DBG] No candidates found for the request path '/api/cities'
2023-01-11 07:40:48.087 +00:00 [DBG] Request did not match any endpoints
2023-01-11 07:40:48.088 +00:00 [DBG] Successfully validated the token.
2023-01-11 07:40:48.088 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-01-11 07:40:48.089 +00:00 [DBG] Connection id "0HMNJKH6CGBQ4" completed keep alive response.
2023-01-11 07:40:48.090 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7093/api/cities - - - 404 0 - 6.7147ms
2023-01-11 07:41:01.091 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7093/api/v1/cities/ - -
2023-01-11 07:41:01.092 +00:00 [DBG] The request path  does not match the path filter
2023-01-11 07:41:01.092 +00:00 [DBG] 1 candidate(s) found for the request path '/api/v1/cities/'
2023-01-11 07:41:01.093 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/v{version:Apiversion}/cities' is valid for the request path '/api/v1/cities/'
2023-01-11 07:41:01.094 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-01-11 07:41:01.095 +00:00 [DBG] Successfully validated the token.
2023-01-11 07:41:01.095 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-01-11 07:41:01.096 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-01-11 07:41:01.097 +00:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-01-11 07:41:01.098 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-01-11 07:41:01.098 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-01-11 07:41:01.099 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 07:41:01.100 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-01-11 07:41:01.101 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 07:41:01.102 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-01-11 07:41:01.103 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-01-11 07:41:01.103 +00:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-01-11 07:41:01.104 +00:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-01-11 07:41:01.105 +00:00 [DBG] Could not find a value in the request with name 'name' for binding parameter 'name' of type 'System.String'.
2023-01-11 07:41:01.106 +00:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-01-11 07:41:01.106 +00:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-01-11 07:41:01.107 +00:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-01-11 07:41:01.108 +00:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-01-11 07:41:01.108 +00:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-01-11 07:41:01.109 +00:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-01-11 07:41:01.110 +00:00 [DBG] Could not find a value in the request with name 'searchQuery' for binding parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:41:01.111 +00:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:41:01.111 +00:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:41:01.112 +00:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-01-11 07:41:01.113 +00:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:41:01.114 +00:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-01-11 07:41:01.115 +00:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-01-11 07:41:01.116 +00:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-01-11 07:41:01.117 +00:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-01-11 07:41:01.117 +00:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-01-11 07:41:01.118 +00:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-01-11 07:41:01.119 +00:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-01-11 07:41:01.119 +00:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-01-11 07:41:01.120 +00:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2023-01-11 07:41:01.121 +00:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 07:41:01.122 +00:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 07:41:01.122 +00:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 07:41:01.123 +00:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-01-11 07:41:01.124 +00:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 07:41:01.125 +00:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-01-11 07:41:01.125 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-01-11 07:41:01.126 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-01-11 07:41:01.127 +00:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:41:01.128 +00:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:41:01.129 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-01-11 07:41:01.134 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-01-11 07:41:01.135 +00:00 [DBG] A data reader was disposed.
2023-01-11 07:41:01.136 +00:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:41:01.136 +00:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:41:01.137 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-01-11 07:41:01.138 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-01-11 07:41:01.138 +00:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:41:01.139 +00:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:41:01.140 +00:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-01-11 07:41:01.141 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-01-11 07:41:01.142 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-01-11 07:41:01.143 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-01-11 07:41:01.143 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-01-11 07:41:01.144 +00:00 [DBG] A data reader was disposed.
2023-01-11 07:41:01.144 +00:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:41:01.145 +00:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:41:01.146 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-01-11 07:41:01.148 +00:00 [DBG] No information found on request to perform content negotiation.
2023-01-11 07:41:01.149 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-01-11 07:41:01.149 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-01-11 07:41:01.149 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-01-11 07:41:01.150 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-01-11 07:41:01.164 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 61.5273ms
2023-01-11 07:41:01.164 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-01-11 07:41:01.165 +00:00 [DBG] Connection id "0HMNJKH6CGBQ4" completed keep alive response.
2023-01-11 07:41:01.165 +00:00 [DBG] 'CityInfoContext' disposed.
2023-01-11 07:41:01.166 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7093/api/v1/cities/ - - - 200 247 application/json;+charset=utf-8 74.9914ms
2023-01-11 07:41:16.865 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7093/api/v1/cities/ - -
2023-01-11 07:41:16.865 +00:00 [DBG] The request path  does not match the path filter
2023-01-11 07:41:16.866 +00:00 [DBG] 1 candidate(s) found for the request path '/api/v1/cities/'
2023-01-11 07:41:16.867 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/v{version:Apiversion}/cities' is valid for the request path '/api/v1/cities/'
2023-01-11 07:41:16.868 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-01-11 07:41:16.868 +00:00 [DBG] Successfully validated the token.
2023-01-11 07:41:16.869 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-01-11 07:41:16.869 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-01-11 07:41:16.870 +00:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-01-11 07:41:16.871 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-01-11 07:41:16.872 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-01-11 07:41:16.873 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 07:41:16.874 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-01-11 07:41:16.875 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 07:41:16.876 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-01-11 07:41:16.877 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-01-11 07:41:16.877 +00:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-01-11 07:41:16.878 +00:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-01-11 07:41:16.879 +00:00 [DBG] Could not find a value in the request with name 'name' for binding parameter 'name' of type 'System.String'.
2023-01-11 07:41:16.880 +00:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-01-11 07:41:16.881 +00:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-01-11 07:41:16.882 +00:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-01-11 07:41:16.883 +00:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-01-11 07:41:16.883 +00:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-01-11 07:41:16.884 +00:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-01-11 07:41:16.885 +00:00 [DBG] Could not find a value in the request with name 'searchQuery' for binding parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:41:16.886 +00:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:41:16.886 +00:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:41:16.887 +00:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-01-11 07:41:16.888 +00:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:41:16.889 +00:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-01-11 07:41:16.889 +00:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-01-11 07:41:16.890 +00:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-01-11 07:41:16.891 +00:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-01-11 07:41:16.891 +00:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-01-11 07:41:16.892 +00:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-01-11 07:41:16.893 +00:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-01-11 07:41:16.893 +00:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-01-11 07:41:16.894 +00:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2023-01-11 07:41:16.895 +00:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 07:41:16.896 +00:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 07:41:16.897 +00:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 07:41:16.897 +00:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-01-11 07:41:16.898 +00:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 07:41:16.899 +00:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-01-11 07:41:16.900 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-01-11 07:41:16.901 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-01-11 07:41:16.902 +00:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:41:16.902 +00:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:41:16.903 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-01-11 07:41:16.904 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-01-11 07:41:16.906 +00:00 [DBG] A data reader was disposed.
2023-01-11 07:41:16.906 +00:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:41:16.907 +00:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:41:16.907 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-01-11 07:41:16.908 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-01-11 07:41:16.909 +00:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:41:16.909 +00:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:41:16.910 +00:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-01-11 07:41:16.912 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-01-11 07:41:16.913 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-01-11 07:41:16.914 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-01-11 07:41:16.915 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-01-11 07:41:16.916 +00:00 [DBG] A data reader was disposed.
2023-01-11 07:41:16.917 +00:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:41:16.918 +00:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:41:16.918 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-01-11 07:41:16.920 +00:00 [DBG] No information found on request to perform content negotiation.
2023-01-11 07:41:16.920 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-01-11 07:41:16.921 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-01-11 07:41:16.921 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-01-11 07:41:16.922 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-01-11 07:41:16.923 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 46.8821ms
2023-01-11 07:41:16.923 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-01-11 07:41:16.924 +00:00 [DBG] Connection id "0HMNJKH6CGBQ4" completed keep alive response.
2023-01-11 07:41:16.925 +00:00 [DBG] 'CityInfoContext' disposed.
2023-01-11 07:41:16.925 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7093/api/v1/cities/ - - - 200 247 application/json;+charset=utf-8 60.5760ms
2023-01-11 07:42:26.345 +00:00 [DBG] Connection id "0HMNJKH6CGBQ5" accepted.
2023-01-11 07:42:26.346 +00:00 [DBG] Connection id "0HMNJKH6CGBQ5" started.
2023-01-11 07:42:26.366 +00:00 [DBG] Connection 0HMNJKH6CGBQ5 established using the following protocol: "Tls12"
2023-01-11 07:42:26.370 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7093/api/v1/cities?pageSize=1&pageNumber=1 - -
2023-01-11 07:42:26.371 +00:00 [DBG] The request path  does not match the path filter
2023-01-11 07:42:26.371 +00:00 [DBG] 1 candidate(s) found for the request path '/api/v1/cities'
2023-01-11 07:42:26.372 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/v{version:Apiversion}/cities' is valid for the request path '/api/v1/cities'
2023-01-11 07:42:26.373 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-01-11 07:42:26.373 +00:00 [DBG] Successfully validated the token.
2023-01-11 07:42:26.374 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-01-11 07:42:26.374 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-01-11 07:42:26.375 +00:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-01-11 07:42:26.376 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-01-11 07:42:26.377 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-01-11 07:42:26.377 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 07:42:26.379 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-01-11 07:42:26.380 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 07:42:26.381 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-01-11 07:42:26.382 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-01-11 07:42:26.382 +00:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-01-11 07:42:26.383 +00:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-01-11 07:42:26.384 +00:00 [DBG] Could not find a value in the request with name 'name' for binding parameter 'name' of type 'System.String'.
2023-01-11 07:42:26.385 +00:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-01-11 07:42:26.386 +00:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-01-11 07:42:26.387 +00:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-01-11 07:42:26.388 +00:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-01-11 07:42:26.388 +00:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-01-11 07:42:26.389 +00:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-01-11 07:42:26.390 +00:00 [DBG] Could not find a value in the request with name 'searchQuery' for binding parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:42:26.391 +00:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:42:26.391 +00:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:42:26.392 +00:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-01-11 07:42:26.393 +00:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:42:26.393 +00:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-01-11 07:42:26.394 +00:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-01-11 07:42:26.395 +00:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-01-11 07:42:26.396 +00:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-01-11 07:42:26.397 +00:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-01-11 07:42:26.397 +00:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-01-11 07:42:26.398 +00:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-01-11 07:42:26.399 +00:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-01-11 07:42:26.399 +00:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 07:42:26.400 +00:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 07:42:26.401 +00:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-01-11 07:42:26.402 +00:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 07:42:26.404 +00:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-01-11 07:42:26.405 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-01-11 07:42:26.405 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-01-11 07:42:26.406 +00:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:42:26.407 +00:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:42:26.407 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-01-11 07:42:26.409 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-01-11 07:42:26.410 +00:00 [DBG] A data reader was disposed.
2023-01-11 07:42:26.411 +00:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:42:26.411 +00:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:42:26.412 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-01-11 07:42:26.413 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-01-11 07:42:26.413 +00:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:42:26.414 +00:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:42:26.415 +00:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-01-11 07:42:26.416 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-01-11 07:42:26.418 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-01-11 07:42:26.419 +00:00 [DBG] A data reader was disposed.
2023-01-11 07:42:26.420 +00:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:42:26.421 +00:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:42:26.422 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-01-11 07:42:26.423 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-01-11 07:42:26.424 +00:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-01-11 07:42:26.425 +00:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2023-01-11 07:42:26.425 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 44.4099ms
2023-01-11 07:42:26.426 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-01-11 07:42:26.427 +00:00 [DBG] 'CityInfoContext' disposed.
2023-01-11 07:42:26.428 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7093/api/v1/cities?pageSize=1&pageNumber=1 - - - 406 0 - 57.5347ms
2023-01-11 07:43:40.982 +00:00 [INF] Request starting HTTP/1.1 POST https://localhost:7093/api/v1/cities/ application/json 1728
2023-01-11 07:43:40.982 +00:00 [DBG] POST requests are not supported
2023-01-11 07:43:40.983 +00:00 [DBG] 1 candidate(s) found for the request path '/api/v1/cities/'
2023-01-11 07:43:40.984 +00:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2023-01-11 07:43:40.985 +00:00 [DBG] Successfully validated the token.
2023-01-11 07:43:40.986 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-01-11 07:43:40.987 +00:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2023-01-11 07:43:41.000 +00:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2023-01-11 07:43:41.001 +00:00 [DBG] Connection id "0HMNJKH6CGBQ4" completed keep alive response.
2023-01-11 07:43:41.002 +00:00 [INF] Request finished HTTP/1.1 POST https://localhost:7093/api/v1/cities/ application/json 1728 - 405 0 - 20.0414ms
2023-01-11 07:43:41.002 +00:00 [DBG] Connection id "0HMNJKH6CGBQ4", Request id "0HMNJKH6CGBQ4:0000000D": started reading request body.
2023-01-11 07:43:41.006 +00:00 [DBG] Connection id "0HMNJKH6CGBQ4", Request id "0HMNJKH6CGBQ4:0000000D": done reading request body.
2023-01-11 07:45:16.978 +00:00 [DBG] Connection id "0HMNJKH6CGBQ5" received FIN.
2023-01-11 07:45:16.981 +00:00 [DBG] Connection id "0HMNJKH6CGBQ5" is closing.
2023-01-11 07:45:16.985 +00:00 [DBG] Connection id "0HMNJKH6CGBQ5" is closed. The last processed stream ID was 15.
2023-01-11 07:45:16.987 +00:00 [DBG] Connection id "0HMNJKH6CGBQ5" sending FIN because: "The client closed the connection."
2023-01-11 07:45:16.993 +00:00 [DBG] Connection id "0HMNJKH6CGBQ5" stopped.
2023-01-11 07:45:44.109 +00:00 [INF] Application is shutting down...
2023-01-11 07:45:44.112 +00:00 [DBG] Hosting stopping
2023-01-11 07:45:44.213 +00:00 [DBG] Connection id "0HMNJKH6CGBQ4" disconnecting.
2023-01-11 07:45:44.214 +00:00 [DBG] Connection id "0HMNJKH6CGBQ4" stopped.
2023-01-11 07:45:44.214 +00:00 [DBG] Connection id "0HMNJKH6CGBQ4" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-01-11 07:45:44.232 +00:00 [DBG] Hosting stopped
2023-01-11 07:46:23.170 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-01-11 07:46:23.298 +00:00 [DBG] Hosting starting
2023-01-11 07:46:23.324 +00:00 [INF] User profile is available. Using 'C:\Users\Nuno\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-01-11 07:46:23.328 +00:00 [DBG] Reading data from file 'C:\Users\Nuno\AppData\Local\ASP.NET\DataProtection-Keys\key-4efb3c36-dfc6-4e1f-b182-bd4835a272f7.xml'.
2023-01-11 07:46:23.332 +00:00 [DBG] Reading data from file 'C:\Users\Nuno\AppData\Local\ASP.NET\DataProtection-Keys\key-6a9bd5f7-bd22-4e53-bb24-f632adec3175.xml'.
2023-01-11 07:46:23.333 +00:00 [DBG] Reading data from file 'C:\Users\Nuno\AppData\Local\ASP.NET\DataProtection-Keys\key-975c86da-840a-4349-9562-4a0f1b9c2c29.xml'.
2023-01-11 07:46:23.337 +00:00 [DBG] Found key {4efb3c36-dfc6-4e1f-b182-bd4835a272f7}.
2023-01-11 07:46:23.343 +00:00 [DBG] Found key {6a9bd5f7-bd22-4e53-bb24-f632adec3175}.
2023-01-11 07:46:23.344 +00:00 [DBG] Found key {975c86da-840a-4349-9562-4a0f1b9c2c29}.
2023-01-11 07:46:23.350 +00:00 [DBG] Considering key {4efb3c36-dfc6-4e1f-b182-bd4835a272f7} with expiration date 2023-03-02 23:10:38Z as default key.
2023-01-11 07:46:23.353 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-01-11 07:46:23.355 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-01-11 07:46:23.358 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-01-11 07:46:23.362 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-01-11 07:46:23.364 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-01-11 07:46:23.367 +00:00 [DBG] Using key {4efb3c36-dfc6-4e1f-b182-bd4835a272f7} as the default key.
2023-01-11 07:46:23.368 +00:00 [DBG] Key ring with default key {4efb3c36-dfc6-4e1f-b182-bd4835a272f7} was loaded during application startup.
2023-01-11 07:46:23.518 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: AC9835F47453BC88FD356F3E7665968E87A8191B)
2023-01-11 07:46:23.540 +00:00 [INF] Now listening on: https://localhost:7093
2023-01-11 07:46:23.541 +00:00 [INF] Now listening on: http://localhost:5093
2023-01-11 07:46:23.541 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-01-11 07:46:23.542 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-01-11 07:46:23.542 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-01-11 07:46:23.543 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-01-11 07:46:23.543 +00:00 [INF] Hosting environment: Development
2023-01-11 07:46:23.545 +00:00 [INF] Content root path: C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\
2023-01-11 07:46:23.546 +00:00 [DBG] Hosting started
2023-01-11 07:46:46.343 +00:00 [DBG] Connection id "0HMNJKVUN0NEU" received FIN.
2023-01-11 07:46:46.356 +00:00 [DBG] Connection id "0HMNJKVUN0NEU" accepted.
2023-01-11 07:46:46.359 +00:00 [DBG] Connection id "0HMNJKVUN0NEU" started.
2023-01-11 07:46:46.360 +00:00 [DBG] Connection id "0HMNJKVUN0NEV" accepted.
2023-01-11 07:46:46.361 +00:00 [DBG] Connection id "0HMNJKVUN0NEV" started.
2023-01-11 07:46:46.409 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-01-11 07:46:46.442 +00:00 [DBG] Connection id "0HMNJKVUN0NEU" stopped.
2023-01-11 07:46:46.444 +00:00 [DBG] Connection id "0HMNJKVUN0NEU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-01-11 07:46:46.453 +00:00 [DBG] Connection 0HMNJKVUN0NEV established using the following protocol: "Tls12"
2023-01-11 07:46:46.487 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7093/api/v1/cities/ - -
2023-01-11 07:46:46.497 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-01-11 07:46:46.522 +00:00 [DBG] The request path  does not match the path filter
2023-01-11 07:46:46.545 +00:00 [DBG] 1 candidate(s) found for the request path '/api/v1/cities/'
2023-01-11 07:46:46.549 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/v{version:Apiversion}/cities' is valid for the request path '/api/v1/cities/'
2023-01-11 07:46:46.555 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-01-11 07:46:46.774 +00:00 [DBG] Successfully validated the token.
2023-01-11 07:46:46.775 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-01-11 07:46:46.778 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-01-11 07:46:46.802 +00:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-01-11 07:46:46.804 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-01-11 07:46:46.804 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-01-11 07:46:46.805 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 07:46:46.807 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-01-11 07:46:46.809 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 07:46:46.810 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-01-11 07:46:46.912 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-01-11 07:46:47.066 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-01-11 07:46:47.071 +00:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-01-11 07:46:47.072 +00:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-01-11 07:46:47.073 +00:00 [DBG] Could not find a value in the request with name 'name' for binding parameter 'name' of type 'System.String'.
2023-01-11 07:46:47.074 +00:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-01-11 07:46:47.075 +00:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-01-11 07:46:47.076 +00:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-01-11 07:46:47.078 +00:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-01-11 07:46:47.080 +00:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-01-11 07:46:47.083 +00:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-01-11 07:46:47.085 +00:00 [DBG] Could not find a value in the request with name 'searchQuery' for binding parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:46:47.086 +00:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:46:47.091 +00:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:46:47.092 +00:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-01-11 07:46:47.093 +00:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:46:47.093 +00:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-01-11 07:46:47.094 +00:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-01-11 07:46:47.095 +00:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-01-11 07:46:47.099 +00:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-01-11 07:46:47.102 +00:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-01-11 07:46:47.103 +00:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-01-11 07:46:47.108 +00:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-01-11 07:46:47.108 +00:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-01-11 07:46:47.109 +00:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2023-01-11 07:46:47.110 +00:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 07:46:47.111 +00:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 07:46:47.114 +00:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 07:46:47.116 +00:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-01-11 07:46:47.118 +00:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 07:46:47.784 +00:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-01-11 07:46:47.819 +00:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2023-01-11 07:46:48.001 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-01-11 07:46:48.047 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-01-11 07:46:48.098 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (48ms).
2023-01-11 07:46:48.107 +00:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:46:48.123 +00:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:46:48.132 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-01-11 07:46:48.154 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-01-11 07:46:48.165 +00:00 [DBG] A data reader was disposed.
2023-01-11 07:46:48.172 +00:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:46:48.178 +00:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:46:48.188 +00:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2023-01-11 07:46:48.245 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-01-11 07:46:48.256 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-01-11 07:46:48.257 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-01-11 07:46:48.260 +00:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:46:48.261 +00:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:46:48.266 +00:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-01-11 07:46:48.279 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-01-11 07:46:48.294 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-01-11 07:46:48.312 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-01-11 07:46:48.313 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-01-11 07:46:48.314 +00:00 [DBG] A data reader was disposed.
2023-01-11 07:46:48.314 +00:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:46:48.315 +00:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:46:48.338 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-01-11 07:46:48.342 +00:00 [DBG] No information found on request to perform content negotiation.
2023-01-11 07:46:48.343 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-01-11 07:46:48.343 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-01-11 07:46:48.345 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-01-11 07:46:48.347 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-01-11 07:46:48.448 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1634.9623ms
2023-01-11 07:46:48.450 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-01-11 07:46:48.451 +00:00 [DBG] Connection id "0HMNJKVUN0NEV" completed keep alive response.
2023-01-11 07:46:48.455 +00:00 [DBG] 'CityInfoContext' disposed.
2023-01-11 07:46:48.461 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7093/api/v1/cities/ - - - 200 247 application/json;+charset=utf-8 1975.9054ms
2023-01-11 07:51:50.389 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-01-11 07:52:28.306 +00:00 [DBG] Hosting starting
2023-01-11 07:52:28.330 +00:00 [INF] User profile is available. Using 'C:\Users\Nuno\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-01-11 07:52:28.333 +00:00 [DBG] Reading data from file 'C:\Users\Nuno\AppData\Local\ASP.NET\DataProtection-Keys\key-4efb3c36-dfc6-4e1f-b182-bd4835a272f7.xml'.
2023-01-11 07:52:28.337 +00:00 [DBG] Reading data from file 'C:\Users\Nuno\AppData\Local\ASP.NET\DataProtection-Keys\key-6a9bd5f7-bd22-4e53-bb24-f632adec3175.xml'.
2023-01-11 07:52:28.339 +00:00 [DBG] Reading data from file 'C:\Users\Nuno\AppData\Local\ASP.NET\DataProtection-Keys\key-975c86da-840a-4349-9562-4a0f1b9c2c29.xml'.
2023-01-11 07:52:28.343 +00:00 [DBG] Found key {4efb3c36-dfc6-4e1f-b182-bd4835a272f7}.
2023-01-11 07:52:28.347 +00:00 [DBG] Found key {6a9bd5f7-bd22-4e53-bb24-f632adec3175}.
2023-01-11 07:52:28.348 +00:00 [DBG] Found key {975c86da-840a-4349-9562-4a0f1b9c2c29}.
2023-01-11 07:52:28.354 +00:00 [DBG] Considering key {4efb3c36-dfc6-4e1f-b182-bd4835a272f7} with expiration date 2023-03-02 23:10:38Z as default key.
2023-01-11 07:52:28.356 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-01-11 07:52:28.358 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-01-11 07:52:28.359 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-01-11 07:52:28.362 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-01-11 07:52:28.365 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-01-11 07:52:28.367 +00:00 [DBG] Using key {4efb3c36-dfc6-4e1f-b182-bd4835a272f7} as the default key.
2023-01-11 07:52:28.368 +00:00 [DBG] Key ring with default key {4efb3c36-dfc6-4e1f-b182-bd4835a272f7} was loaded during application startup.
2023-01-11 07:52:28.384 +00:00 [INF] Application is shutting down...
2023-01-11 07:52:38.199 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-01-11 07:52:38.320 +00:00 [DBG] Hosting starting
2023-01-11 07:52:38.350 +00:00 [INF] User profile is available. Using 'C:\Users\Nuno\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-01-11 07:52:38.354 +00:00 [DBG] Reading data from file 'C:\Users\Nuno\AppData\Local\ASP.NET\DataProtection-Keys\key-4efb3c36-dfc6-4e1f-b182-bd4835a272f7.xml'.
2023-01-11 07:52:38.358 +00:00 [DBG] Reading data from file 'C:\Users\Nuno\AppData\Local\ASP.NET\DataProtection-Keys\key-6a9bd5f7-bd22-4e53-bb24-f632adec3175.xml'.
2023-01-11 07:52:38.359 +00:00 [DBG] Reading data from file 'C:\Users\Nuno\AppData\Local\ASP.NET\DataProtection-Keys\key-975c86da-840a-4349-9562-4a0f1b9c2c29.xml'.
2023-01-11 07:52:38.364 +00:00 [DBG] Found key {4efb3c36-dfc6-4e1f-b182-bd4835a272f7}.
2023-01-11 07:52:38.370 +00:00 [DBG] Found key {6a9bd5f7-bd22-4e53-bb24-f632adec3175}.
2023-01-11 07:52:38.372 +00:00 [DBG] Found key {975c86da-840a-4349-9562-4a0f1b9c2c29}.
2023-01-11 07:52:38.379 +00:00 [DBG] Considering key {4efb3c36-dfc6-4e1f-b182-bd4835a272f7} with expiration date 2023-03-02 23:10:38Z as default key.
2023-01-11 07:52:38.384 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-01-11 07:52:38.388 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-01-11 07:52:38.391 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-01-11 07:52:38.396 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-01-11 07:52:38.400 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-01-11 07:52:38.404 +00:00 [DBG] Using key {4efb3c36-dfc6-4e1f-b182-bd4835a272f7} as the default key.
2023-01-11 07:52:38.405 +00:00 [DBG] Key ring with default key {4efb3c36-dfc6-4e1f-b182-bd4835a272f7} was loaded during application startup.
2023-01-11 07:52:38.539 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: AC9835F47453BC88FD356F3E7665968E87A8191B)
2023-01-11 07:52:38.570 +00:00 [INF] Now listening on: https://localhost:7093
2023-01-11 07:52:38.571 +00:00 [INF] Now listening on: http://localhost:5093
2023-01-11 07:52:38.572 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-01-11 07:52:38.572 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-01-11 07:52:38.573 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-01-11 07:52:38.573 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-01-11 07:52:38.574 +00:00 [INF] Hosting environment: Development
2023-01-11 07:52:38.575 +00:00 [INF] Content root path: C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\
2023-01-11 07:52:38.575 +00:00 [DBG] Hosting started
2023-01-11 07:52:49.636 +00:00 [DBG] Connection id "0HMNJL3AVKQKC" received FIN.
2023-01-11 07:52:49.643 +00:00 [DBG] Connection id "0HMNJL3AVKQKC" accepted.
2023-01-11 07:52:49.644 +00:00 [DBG] Connection id "0HMNJL3AVKQKC" started.
2023-01-11 07:52:49.647 +00:00 [DBG] Connection id "0HMNJL3AVKQKD" accepted.
2023-01-11 07:52:49.647 +00:00 [DBG] Connection id "0HMNJL3AVKQKD" started.
2023-01-11 07:52:49.691 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-01-11 07:52:49.715 +00:00 [DBG] Connection id "0HMNJL3AVKQKC" stopped.
2023-01-11 07:52:49.716 +00:00 [DBG] Connection id "0HMNJL3AVKQKC" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-01-11 07:52:49.725 +00:00 [DBG] Connection 0HMNJL3AVKQKD established using the following protocol: "Tls12"
2023-01-11 07:52:49.754 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7093/api/v1/cities/ - -
2023-01-11 07:52:49.764 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-01-11 07:52:49.790 +00:00 [DBG] The request path  does not match the path filter
2023-01-11 07:52:49.813 +00:00 [DBG] 1 candidate(s) found for the request path '/api/v1/cities/'
2023-01-11 07:52:49.818 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/v{version:Apiversion}/cities' is valid for the request path '/api/v1/cities/'
2023-01-11 07:52:49.823 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-01-11 07:52:50.036 +00:00 [DBG] Successfully validated the token.
2023-01-11 07:52:50.037 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-01-11 07:52:50.039 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-01-11 07:52:50.060 +00:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-01-11 07:52:50.062 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-01-11 07:52:50.063 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-01-11 07:52:50.064 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 07:52:50.065 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-01-11 07:52:50.066 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 07:52:50.067 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-01-11 07:52:50.168 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-01-11 07:52:50.313 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-01-11 07:52:50.317 +00:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-01-11 07:52:50.318 +00:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-01-11 07:52:50.320 +00:00 [DBG] Could not find a value in the request with name 'name' for binding parameter 'name' of type 'System.String'.
2023-01-11 07:52:50.321 +00:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-01-11 07:52:50.321 +00:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-01-11 07:52:50.322 +00:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-01-11 07:52:50.323 +00:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-01-11 07:52:50.325 +00:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-01-11 07:52:50.326 +00:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-01-11 07:52:50.327 +00:00 [DBG] Could not find a value in the request with name 'searchQuery' for binding parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:52:50.328 +00:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:52:50.328 +00:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:52:50.329 +00:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-01-11 07:52:50.330 +00:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-01-11 07:52:50.331 +00:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-01-11 07:52:50.331 +00:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-01-11 07:52:50.332 +00:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-01-11 07:52:50.333 +00:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-01-11 07:52:50.333 +00:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-01-11 07:52:50.335 +00:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-01-11 07:52:50.337 +00:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-01-11 07:52:50.337 +00:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-01-11 07:52:50.338 +00:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2023-01-11 07:52:50.339 +00:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 07:52:50.339 +00:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 07:52:50.340 +00:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 07:52:50.341 +00:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-01-11 07:52:50.341 +00:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 07:52:50.994 +00:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-01-11 07:52:51.028 +00:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2023-01-11 07:52:51.213 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-01-11 07:52:51.254 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-01-11 07:52:51.313 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (56ms).
2023-01-11 07:52:51.323 +00:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:52:51.338 +00:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:52:51.347 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-01-11 07:52:51.366 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-01-11 07:52:51.377 +00:00 [DBG] A data reader was disposed.
2023-01-11 07:52:51.384 +00:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:52:51.389 +00:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:52:51.398 +00:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2023-01-11 07:52:51.454 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-01-11 07:52:51.464 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-01-11 07:52:51.465 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-01-11 07:52:51.468 +00:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:52:51.469 +00:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:52:51.473 +00:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-01-11 07:52:51.478 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2023-01-11 07:52:51.493 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-01-11 07:52:51.511 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-01-11 07:52:51.512 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-01-11 07:52:51.513 +00:00 [DBG] A data reader was disposed.
2023-01-11 07:52:51.514 +00:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 07:52:51.514 +00:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-01-11 07:55:19.715 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-01-11 07:55:19.718 +00:00 [DBG] No information found on request to perform content negotiation.
2023-01-11 07:55:19.718 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-01-11 07:55:19.719 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-01-11 07:55:19.720 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-01-11 07:55:19.721 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-01-11 07:55:19.820 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 149749.8842ms
2023-01-11 07:55:19.821 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-01-11 07:55:19.822 +00:00 [DBG] Connection id "0HMNJL3AVKQKD" completed keep alive response.
2023-01-11 07:55:19.827 +00:00 [DBG] 'CityInfoContext' disposed.
2023-01-11 07:55:19.830 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7093/api/v1/cities/ - - - 200 247 application/json;+charset=utf-8 150078.8932ms
2023-01-11 11:01:20.733 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-01-11 11:01:21.199 +00:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-01-11 11:01:21.297 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-01-11 11:01:21.298 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-01-11 11:01:21.298 +00:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-01-11 11:01:21.314 +00:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-01-11 11:01:21.314 +00:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-01-11 11:01:21.315 +00:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-01-11 11:01:21.315 +00:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-01-11 11:01:21.315 +00:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-01-11 11:01:21.315 +00:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-01-11 11:01:21.331 +00:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-01-11 11:01:21.336 +00:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-01-11 11:01:21.431 +00:00 [DBG] 'CityInfoContext' disposed.
2023-01-11 11:25:27.731 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-01-11 11:25:27.867 +00:00 [DBG] Hosting starting
2023-01-11 11:25:27.898 +00:00 [INF] User profile is available. Using 'C:\Users\Nuno\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-01-11 11:25:27.902 +00:00 [DBG] Reading data from file 'C:\Users\Nuno\AppData\Local\ASP.NET\DataProtection-Keys\key-4efb3c36-dfc6-4e1f-b182-bd4835a272f7.xml'.
2023-01-11 11:25:27.913 +00:00 [DBG] Reading data from file 'C:\Users\Nuno\AppData\Local\ASP.NET\DataProtection-Keys\key-6a9bd5f7-bd22-4e53-bb24-f632adec3175.xml'.
2023-01-11 11:25:27.914 +00:00 [DBG] Reading data from file 'C:\Users\Nuno\AppData\Local\ASP.NET\DataProtection-Keys\key-975c86da-840a-4349-9562-4a0f1b9c2c29.xml'.
2023-01-11 11:25:27.921 +00:00 [DBG] Found key {4efb3c36-dfc6-4e1f-b182-bd4835a272f7}.
2023-01-11 11:25:27.926 +00:00 [DBG] Found key {6a9bd5f7-bd22-4e53-bb24-f632adec3175}.
2023-01-11 11:25:27.927 +00:00 [DBG] Found key {975c86da-840a-4349-9562-4a0f1b9c2c29}.
2023-01-11 11:25:27.933 +00:00 [DBG] Considering key {4efb3c36-dfc6-4e1f-b182-bd4835a272f7} with expiration date 2023-03-02 23:10:38Z as default key.
2023-01-11 11:25:27.935 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-01-11 11:25:27.937 +00:00 [DBG] Decrypting secret element using Windows DPAPI.
2023-01-11 11:25:27.939 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-01-11 11:25:27.942 +00:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2023-01-11 11:25:27.944 +00:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2023-01-11 11:25:27.947 +00:00 [DBG] Using key {4efb3c36-dfc6-4e1f-b182-bd4835a272f7} as the default key.
2023-01-11 11:25:27.948 +00:00 [DBG] Key ring with default key {4efb3c36-dfc6-4e1f-b182-bd4835a272f7} was loaded during application startup.
2023-01-11 11:25:28.070 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: AC9835F47453BC88FD356F3E7665968E87A8191B)
2023-01-11 11:25:28.130 +00:00 [INF] Now listening on: https://localhost:7093
2023-01-11 11:25:28.131 +00:00 [INF] Now listening on: http://localhost:5093
2023-01-11 11:25:28.133 +00:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-01-11 11:25:28.133 +00:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-01-11 11:25:28.134 +00:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-01-11 11:25:28.135 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-01-11 11:25:28.135 +00:00 [INF] Hosting environment: Development
2023-01-11 11:25:28.136 +00:00 [INF] Content root path: C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\
2023-01-11 11:25:28.137 +00:00 [DBG] Hosting started
2023-01-11 11:26:34.693 +00:00 [DBG] Connection id "0HMNJOQP4TL4I" received FIN.
2023-01-11 11:26:34.709 +00:00 [DBG] Connection id "0HMNJOQP4TL4I" accepted.
2023-01-11 11:26:34.712 +00:00 [DBG] Connection id "0HMNJOQP4TL4I" started.
2023-01-11 11:26:34.714 +00:00 [DBG] Connection id "0HMNJOQP4TL4J" accepted.
2023-01-11 11:26:34.715 +00:00 [DBG] Connection id "0HMNJOQP4TL4J" started.
2023-01-11 11:26:34.774 +00:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-01-11 11:26:34.811 +00:00 [DBG] Connection id "0HMNJOQP4TL4I" stopped.
2023-01-11 11:26:34.813 +00:00 [DBG] Connection id "0HMNJOQP4TL4I" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-01-11 11:26:34.818 +00:00 [DBG] Connection 0HMNJOQP4TL4J established using the following protocol: "Tls12"
2023-01-11 11:26:34.851 +00:00 [INF] Request starting HTTP/1.1 POST https://localhost:7093/api/authentication/authenticate application/json 114
2023-01-11 11:26:34.863 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-01-11 11:26:34.884 +00:00 [DBG] POST requests are not supported
2023-01-11 11:26:34.910 +00:00 [DBG] 1 candidate(s) found for the request path '/api/authentication/authenticate'
2023-01-11 11:26:34.912 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)' with route pattern 'api/authentication/authenticate' is valid for the request path '/api/authentication/authenticate'
2023-01-11 11:26:34.922 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-01-11 11:26:34.994 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-01-11 11:26:34.996 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-01-11 11:26:35.016 +00:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.String] Authenticate(AuthenticationRequestBody) on controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API).
2023-01-11 11:26:35.018 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-01-11 11:26:35.018 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-01-11 11:26:35.019 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 11:26:35.021 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-01-11 11:26:35.021 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 11:26:35.023 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-01-11 11:26:35.024 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.AuthenticationController (CityInfo.API)
2023-01-11 11:26:35.028 +00:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-01-11 11:26:35.030 +00:00 [DBG] Attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' using the name '' in request data ...
2023-01-11 11:26:35.033 +00:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-01-11 11:26:35.034 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-01-11 11:26:35.042 +00:00 [DBG] Connection id "0HMNJOQP4TL4J", Request id "0HMNJOQP4TL4J:00000002": started reading request body.
2023-01-11 11:26:35.043 +00:00 [DBG] Connection id "0HMNJOQP4TL4J", Request id "0HMNJOQP4TL4J:00000002": done reading request body.
2023-01-11 11:26:35.164 +00:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-01-11 11:26:35.165 +00:00 [DBG] Done attempting to bind parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-01-11 11:26:35.166 +00:00 [DBG] Attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody' ...
2023-01-11 11:26:35.174 +00:00 [DBG] Done attempting to validate the bound parameter 'authenticationRequestBody' of type 'CityInfo.API.Controllers.AuthenticationController+AuthenticationRequestBody'.
2023-01-11 11:26:35.279 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-01-11 11:26:35.283 +00:00 [DBG] No information found on request to perform content negotiation.
2023-01-11 11:26:35.284 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-01-11 11:26:35.284 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-01-11 11:26:35.285 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-01-11 11:26:35.286 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-01-11 11:26:35.298 +00:00 [INF] Executed action CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API) in 272.3791ms
2023-01-11 11:26:35.301 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.AuthenticationController.Authenticate (CityInfo.API)'
2023-01-11 11:26:35.301 +00:00 [DBG] Connection id "0HMNJOQP4TL4J" completed keep alive response.
2023-01-11 11:26:35.303 +00:00 [INF] Request finished HTTP/1.1 POST https://localhost:7093/api/authentication/authenticate application/json 114 - 200 - text/plain;+charset=utf-8 454.7310ms
2023-01-11 11:27:21.372 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7093/api/cities/1/pointsofinterest - -
2023-01-11 11:27:21.377 +00:00 [DBG] The request path  does not match the path filter
2023-01-11 11:27:21.378 +00:00 [DBG] No candidates found for the request path '/api/cities/1/pointsofinterest'
2023-01-11 11:27:21.378 +00:00 [DBG] Request did not match any endpoints
2023-01-11 11:27:21.379 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-01-11 11:27:21.383 +00:00 [DBG] Connection id "0HMNJOQP4TL4J" completed keep alive response.
2023-01-11 11:27:21.384 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7093/api/cities/1/pointsofinterest - - - 404 0 - 12.1939ms
2023-01-11 11:27:29.681 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7093/api/v1//cities/1/pointsofinterest - -
2023-01-11 11:27:29.682 +00:00 [DBG] The request path  does not match the path filter
2023-01-11 11:27:29.682 +00:00 [DBG] No candidates found for the request path '/api/v1//cities/1/pointsofinterest'
2023-01-11 11:27:29.683 +00:00 [DBG] Request did not match any endpoints
2023-01-11 11:27:29.685 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-01-11 11:27:29.686 +00:00 [DBG] Connection id "0HMNJOQP4TL4J" completed keep alive response.
2023-01-11 11:27:29.687 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7093/api/v1//cities/1/pointsofinterest - - - 404 0 - 6.0044ms
2023-01-11 11:27:35.457 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7093/api/v1/cities/1/pointsofinterest - -
2023-01-11 11:27:35.458 +00:00 [DBG] The request path  does not match the path filter
2023-01-11 11:27:35.459 +00:00 [DBG] 1 candidate(s) found for the request path '/api/v1/cities/1/pointsofinterest'
2023-01-11 11:27:35.460 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/v{version:Apiversion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v1/cities/1/pointsofinterest'
2023-01-11 11:27:35.467 +00:00 [INF] Multiple candidate actions were found, but none matched the requested service API version '1'. Candidate actions: CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)
2023-01-11 11:27:35.469 +00:00 [DBG] Request matched endpoint 'null'
2023-01-11 11:27:35.470 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-01-11 11:27:35.470 +00:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-01-11 11:27:35.473 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-01-11 11:27:35.475 +00:00 [DBG] No information found on request to perform content negotiation.
2023-01-11 11:27:35.475 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-01-11 11:27:35.476 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-01-11 11:27:35.476 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-01-11 11:27:35.477 +00:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2023-01-11 11:27:35.517 +00:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-01-11 11:27:35.518 +00:00 [DBG] Connection id "0HMNJOQP4TL4J" completed keep alive response.
2023-01-11 11:27:35.519 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7093/api/v1/cities/1/pointsofinterest - - - 400 215 application/json;+charset=utf-8 61.4455ms
2023-01-11 11:27:49.629 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7093/api/v2/cities/1/pointsofinterest - -
2023-01-11 11:27:49.630 +00:00 [DBG] The request path  does not match the path filter
2023-01-11 11:27:49.631 +00:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest'
2023-01-11 11:27:49.631 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/v{version:Apiversion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/1/pointsofinterest'
2023-01-11 11:27:49.633 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-01-11 11:27:49.634 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-01-11 11:27:49.635 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-01-11 11:27:49.645 +00:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-01-11 11:27:49.647 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-01-11 11:27:49.647 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-01-11 11:27:49.648 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 11:27:49.650 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-01-11 11:27:49.651 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 11:27:49.652 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-01-11 11:27:49.756 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-01-11 11:27:49.911 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-01-11 11:27:49.912 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-01-11 11:27:49.913 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-01-11 11:27:49.914 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-01-11 11:27:49.915 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-01-11 11:27:49.916 +00:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-01-11 11:27:49.916 +00:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-01-11 11:27:50.570 +00:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-01-11 11:27:50.612 +00:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-01-11 11:27:50.828 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-01-11 11:27:50.877 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-01-11 11:27:50.939 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (60ms).
2023-01-11 11:27:50.952 +00:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-01-11 11:27:50.972 +00:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 11:27:50.986 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-01-11 11:27:51.082 +00:00 [ERR] Failed executing DbCommand (203ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-01-11 11:27:51.092 +00:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 11:27:51.097 +00:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-01-11 11:27:51.153 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Cities'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Cities'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-01-11 11:27:51.277 +00:00 [FTL] An error occured while trying to access the points of interest for city 1 with the exeption Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Cities'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.HasCityAsync(Int32 cityId) in C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\Services\CityInfoRepository.cs:line 74
   at CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest(Int32 cityId) in C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\Controllers\PointsOfInterestController.cs:line 36
2023-01-11 11:27:51.280 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-01-11 11:27:51.283 +00:00 [DBG] No information found on request to perform content negotiation.
2023-01-11 11:27:51.285 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-01-11 11:27:51.286 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-01-11 11:27:51.287 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-01-11 11:27:51.288 +00:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2023-01-11 11:27:51.289 +00:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 1636.5654ms
2023-01-11 11:27:51.290 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-01-11 11:27:51.291 +00:00 [DBG] Connection id "0HMNJOQP4TL4J" completed keep alive response.
2023-01-11 11:27:51.295 +00:00 [DBG] 'CityInfoContext' disposed.
2023-01-11 11:27:51.299 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7093/api/v2/cities/1/pointsofinterest - - - 500 - text/plain;+charset=utf-8 1669.9523ms
2023-01-11 11:28:20.386 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7093/api/v2/cities/1/pointsofinterest - -
2023-01-11 11:28:20.387 +00:00 [DBG] The request path  does not match the path filter
2023-01-11 11:28:20.387 +00:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest'
2023-01-11 11:28:20.388 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/v{version:Apiversion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/1/pointsofinterest'
2023-01-11 11:28:20.389 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-01-11 11:28:20.457 +00:00 [DBG] Successfully validated the token.
2023-01-11 11:28:20.458 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-01-11 11:28:20.459 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-01-11 11:28:20.460 +00:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-01-11 11:28:20.461 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-01-11 11:28:20.462 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-01-11 11:28:20.463 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 11:28:20.464 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-01-11 11:28:20.465 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 11:28:20.466 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-01-11 11:28:20.473 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-01-11 11:28:20.477 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-01-11 11:28:20.477 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-01-11 11:28:20.478 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-01-11 11:28:20.479 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-01-11 11:28:20.479 +00:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-01-11 11:28:20.481 +00:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-01-11 11:28:20.486 +00:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-01-11 11:28:20.490 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-01-11 11:28:20.490 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-01-11 11:28:20.491 +00:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-01-11 11:28:20.492 +00:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 11:28:20.493 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-01-11 11:28:20.531 +00:00 [ERR] Failed executing DbCommand (41ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-01-11 11:28:20.533 +00:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 11:28:20.534 +00:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-01-11 11:28:20.586 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Cities'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Cities'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-01-11 11:28:20.696 +00:00 [FTL] An error occured while trying to access the points of interest for city 1 with the exeption Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Cities'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.HasCityAsync(Int32 cityId) in C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\Services\CityInfoRepository.cs:line 74
   at CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest(Int32 cityId) in C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\Controllers\PointsOfInterestController.cs:line 36
2023-01-11 11:28:20.699 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-01-11 11:28:20.701 +00:00 [DBG] No information found on request to perform content negotiation.
2023-01-11 11:28:20.702 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-01-11 11:28:20.703 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-01-11 11:28:20.703 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-01-11 11:28:20.704 +00:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2023-01-11 11:28:20.705 +00:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 239.0903ms
2023-01-11 11:28:20.706 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-01-11 11:28:20.707 +00:00 [DBG] Connection id "0HMNJOQP4TL4J" completed keep alive response.
2023-01-11 11:28:20.708 +00:00 [DBG] 'CityInfoContext' disposed.
2023-01-11 11:28:20.708 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7093/api/v2/cities/1/pointsofinterest - - - 500 - text/plain;+charset=utf-8 324.1797ms
2023-01-11 11:28:29.079 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7093/api/v1/cities/1/pointsofinterest - -
2023-01-11 11:28:29.080 +00:00 [DBG] The request path  does not match the path filter
2023-01-11 11:28:29.080 +00:00 [DBG] 1 candidate(s) found for the request path '/api/v1/cities/1/pointsofinterest'
2023-01-11 11:28:29.081 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/v{version:Apiversion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v1/cities/1/pointsofinterest'
2023-01-11 11:28:29.082 +00:00 [INF] Multiple candidate actions were found, but none matched the requested service API version '1'. Candidate actions: CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)
2023-01-11 11:28:29.082 +00:00 [DBG] Request matched endpoint 'null'
2023-01-11 11:28:29.083 +00:00 [DBG] Successfully validated the token.
2023-01-11 11:28:29.084 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-01-11 11:28:29.084 +00:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-01-11 11:28:29.085 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-01-11 11:28:29.086 +00:00 [DBG] No information found on request to perform content negotiation.
2023-01-11 11:28:29.087 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-01-11 11:28:29.087 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-01-11 11:28:29.088 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-01-11 11:28:29.089 +00:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType0`1[[<>f__AnonymousType1`3[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]], Microsoft.AspNetCore.Mvc.Versioning, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2023-01-11 11:28:29.090 +00:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Http.Endpoint'
2023-01-11 11:28:29.091 +00:00 [DBG] Connection id "0HMNJOQP4TL4J" completed keep alive response.
2023-01-11 11:28:29.091 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7093/api/v1/cities/1/pointsofinterest - - - 400 215 application/json;+charset=utf-8 12.4973ms
2023-01-11 11:28:39.993 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7093/api/v2/cities/1/pointsofinterest - -
2023-01-11 11:28:39.993 +00:00 [DBG] The request path  does not match the path filter
2023-01-11 11:28:39.994 +00:00 [DBG] 1 candidate(s) found for the request path '/api/v2/cities/1/pointsofinterest'
2023-01-11 11:28:39.995 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/v{version:Apiversion}/cities/{cityId}/pointsofinterest' is valid for the request path '/api/v2/cities/1/pointsofinterest'
2023-01-11 11:28:39.996 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-01-11 11:28:39.997 +00:00 [DBG] Successfully validated the token.
2023-01-11 11:28:39.998 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-01-11 11:28:39.998 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-01-11 11:28:39.999 +00:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-01-11 11:28:40.000 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-01-11 11:28:40.001 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-01-11 11:28:40.002 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 11:28:40.005 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-01-11 11:28:40.005 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 11:28:40.007 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-01-11 11:28:40.009 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-01-11 11:28:40.009 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-01-11 11:28:40.010 +00:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-01-11 11:28:40.011 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-01-11 11:28:40.012 +00:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-01-11 11:28:40.012 +00:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-01-11 11:28:40.013 +00:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-01-11 11:28:40.045 +00:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-01-11 11:28:40.047 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-01-11 11:28:40.047 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-01-11 11:28:40.048 +00:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-01-11 11:28:40.049 +00:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 11:28:40.050 +00:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-01-11 11:28:40.086 +00:00 [ERR] Failed executing DbCommand (39ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-01-11 11:28:40.087 +00:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 11:28:40.088 +00:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-01-11 11:28:40.140 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Cities'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Cities'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-01-11 11:28:40.240 +00:00 [FTL] An error occured while trying to access the points of interest for city 1 with the exeption Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Cities'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.HasCityAsync(Int32 cityId) in C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\Services\CityInfoRepository.cs:line 74
   at CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest(Int32 cityId) in C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\Controllers\PointsOfInterestController.cs:line 36
2023-01-11 11:28:40.243 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-01-11 11:28:40.244 +00:00 [DBG] No information found on request to perform content negotiation.
2023-01-11 11:28:40.245 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-01-11 11:28:40.246 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-01-11 11:28:40.246 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2023-01-11 11:28:40.247 +00:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2023-01-11 11:28:40.248 +00:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 241.1394ms
2023-01-11 11:28:40.249 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-01-11 11:28:40.249 +00:00 [DBG] Connection id "0HMNJOQP4TL4J" completed keep alive response.
2023-01-11 11:28:40.250 +00:00 [DBG] 'CityInfoContext' disposed.
2023-01-11 11:28:40.250 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7093/api/v2/cities/1/pointsofinterest - - - 500 - text/plain;+charset=utf-8 257.5097ms
2023-01-11 11:29:04.842 +00:00 [INF] Request starting HTTP/1.1 GET https://localhost:7093/api/v1/cities/ - -
2023-01-11 11:29:04.844 +00:00 [DBG] The request path  does not match the path filter
2023-01-11 11:29:04.844 +00:00 [DBG] 1 candidate(s) found for the request path '/api/v1/cities/'
2023-01-11 11:29:04.845 +00:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/v{version:Apiversion}/cities' is valid for the request path '/api/v1/cities/'
2023-01-11 11:29:04.846 +00:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-01-11 11:29:04.886 +00:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '11/01/2023 08:31:32', Current time: '11/01/2023 11:29:04'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-01-11 11:29:04.894 +00:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '11/01/2023 08:31:32', Current time: '11/01/2023 11:29:04'.
2023-01-11 11:29:04.894 +00:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-01-11 11:29:04.899 +00:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-01-11 11:29:04.900 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-01-11 11:29:04.901 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-01-11 11:29:04.902 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 11:29:04.905 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-01-11 11:29:04.905 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-01-11 11:29:04.907 +00:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-01-11 11:29:04.908 +00:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-01-11 11:29:04.909 +00:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-01-11 11:29:04.909 +00:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-01-11 11:29:04.910 +00:00 [DBG] Could not find a value in the request with name 'name' for binding parameter 'name' of type 'System.String'.
2023-01-11 11:29:04.911 +00:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-01-11 11:29:04.912 +00:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-01-11 11:29:04.913 +00:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-01-11 11:29:04.913 +00:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-01-11 11:29:04.914 +00:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-01-11 11:29:04.915 +00:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-01-11 11:29:04.916 +00:00 [DBG] Could not find a value in the request with name 'searchQuery' for binding parameter 'searchQuery' of type 'System.String'.
2023-01-11 11:29:04.916 +00:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-01-11 11:29:04.917 +00:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-01-11 11:29:04.918 +00:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-01-11 11:29:04.918 +00:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-01-11 11:29:04.919 +00:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-01-11 11:29:04.920 +00:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-01-11 11:29:04.922 +00:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-01-11 11:29:04.923 +00:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-01-11 11:29:04.924 +00:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-01-11 11:29:04.924 +00:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-01-11 11:29:04.925 +00:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-01-11 11:29:04.925 +00:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-01-11 11:29:04.926 +00:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2023-01-11 11:29:04.927 +00:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 11:29:04.928 +00:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 11:29:04.928 +00:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 11:29:04.929 +00:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-01-11 11:29:04.930 +00:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-01-11 11:29:04.933 +00:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2023-01-11 11:29:04.935 +00:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2023-01-11 11:29:04.944 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-01-11 11:29:04.954 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-01-11 11:29:04.955 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-01-11 11:29:04.956 +00:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-01-11 11:29:04.956 +00:00 [DBG] Opened connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 11:29:04.957 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-01-11 11:29:04.998 +00:00 [ERR] Failed executing DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-01-11 11:29:04.999 +00:00 [DBG] Closing connection to database 'main' on server 'C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\CityInfo.db'.
2023-01-11 11:29:05.001 +00:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2023-01-11 11:29:05.051 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Cities'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Cities'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-01-11 11:29:05.246 +00:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 339.8574ms
2023-01-11 11:29:05.276 +00:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-01-11 11:29:05.340 +00:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Cities'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetCitiesAsync(String name, String searchQuery, Int32 pageSize, Int32 pageNumber) in C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\Services\CityInfoRepository.cs:line 36
   at CityInfo.API.Controllers.CitiesController.GetCities(String name, String searchQuery, Int32 pageSize, Int32 pageNumber) in C:\Users\Nuno\Desktop\Github\Pluralsight\WebAPI\CityInfo\CityInfo\CityInfo.API\Controllers\CitiesController.cs:line 46
   at lambda_method52(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-01-11 11:29:05.361 +00:00 [DBG] Connection id "0HMNJOQP4TL4J" completed keep alive response.
2023-01-11 11:29:05.362 +00:00 [DBG] 'CityInfoContext' disposed.
2023-01-11 11:29:05.363 +00:00 [INF] Request finished HTTP/1.1 GET https://localhost:7093/api/v1/cities/ - - - 500 - text/plain;+charset=utf-8 521.4543ms
